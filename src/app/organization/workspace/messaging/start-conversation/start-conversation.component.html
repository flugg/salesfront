<div class="vmo-component">
  <vmo-toolbar title="New Conversation" mode="close"></vmo-toolbar>

  <vmo-progress-spinner [hasLoaded]="user && users">
    <div class="vmo-scrollable-area vmo-scrollable-area--withInput">
      <md-list class="vmo-list u-clickable">
        <md-list-item *ngIf="participants.length > 0" class="u-spacing-bottom-small">
          <md-chip-list selectable="false">
            <md-chip *ngFor="let participant of participants" (click)="removeParticipant(participant)">
              {{ participant.name }}
            </md-chip>
          </md-chip-list>
        </md-list-item>

        <md-list-item md-ripple
                      *ngFor="let user of users | exclude:participants | exclude:user"
                      (click)="addParticipant(user)">
          <vmo-avatar md-list-avatar [user]="user"></vmo-avatar>
          <h4 md-line class="mdc-typography--subheading1">
            {{ user.name }}
          </h4>
        </md-list-item>
      </md-list>
      <vmo-load-more-button [paginator]="userList"></vmo-load-more-button>
    </div>
  </vmo-progress-spinner>

  <vmo-bottom-input (send)="start($event)"
                    [disabledInput]="false"
                    [disabledButton]="participants.length === 0">
  </vmo-bottom-input>
</div>