<md-list class="vmo-leaderboard">
  <md-list-item *ngFor="let item of items">
    <vmo-avatar *ngIf="type === 'users'" md-list-avatar [membership]="item"></vmo-avatar>
    <div *ngIf="type === 'teams'" md-list-avatar
         fxLayoutAlign="center center"
         class="vmo-group-icon"
         [routerLink]="['../../teams', item.id]">
      <md-icon md-list-icon>group</md-icon>
    </div>
    <div md-line
         class="u-overflow-visible"
         [class.u-clickable]="type === 'teams'"
         [class.clickable-bar]="type === 'teams'"
         (click)="onClickBar(item)">
      <div fxLayout="row" class="leaderboard-title">
          <span class="mdc-typography--body1">
            <span class="strong">{{ item.position }}.</span> {{ type === 'users' ? item.user.name : item.name }}
          </span>
        <span class="u-fill"></span>
        <span *ngIf="! countComplete[item.id]"
              class="mdc-typography--body1 strong"
              counto
              [step]="50"
              [duration]="0.6"
              [countFrom]="0"
              [countTo]="item.value"
              (countoChange)="item.currentValue = $event"
              (countoEnd)="countComplete[item.id] = true">{{ item.currentValue | number:'1.0-0' }}</span>
        <span *ngIf="countComplete[item.id]" class="mdc-typography--body1 strong">{{ item.value }}</span>
      </div>
      <div class="leaderboard-bar"
           *ngIf="! loading">
        <div [@slideIn]
             class="leaderboard-progress"
             [style.width]="calculateWidth(item)"></div>
      </div>
    </div>
  </md-list-item>
</md-list>